(()=>{"use strict";var e,t={313(){const e=window.wp.blocks,t=window.React,n=window.wp.i18n,a=window.wp.blockEditor,r=window.wp.components,l=window.wp.data,o=window.wp.element,c=JSON.parse('{"UU":"create-block/product-banner"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{productId:d,title:i,text:s,imageId:u,imageUrl:p,useProductImage:m,buttonText:v,buttonStyle:_,buttonBorderRadius:b}=e,[g,h]=(0,o.useState)(""),[E,y]=(0,o.useState)(!1),w=(0,a.useBlockProps)({className:"product-banner-editor"}),{products:S,isLoadingProducts:C}=(0,l.useSelect)(e=>{const{getEntityRecords:t,isResolving:n}=e("core"),a={per_page:100,status:"publish"};return g&&g.length>0&&(a.search=g),{products:t("postType","product",a)||[],isLoadingProducts:n("getEntityRecords",["postType","product",a])}},[g]),N=(0,l.useSelect)(e=>d?e("core").getEntityRecord("postType","product",d):null,[d]);(0,o.useEffect)(()=>{if(m&&N&&N.featured_media){const e=wp.data.select("core").getMedia(N.featured_media);e&&c({imageId:N.featured_media,imageUrl:e.source_url})}},[N,m]);const k=()=>{c({imageId:0,imageUrl:""})},f=[{label:(0,n.__)("Gradient Purple","neve"),value:"gradient-purple"},{label:(0,n.__)("Gradient Blue","neve"),value:"gradient-blue"},{label:(0,n.__)("Gradient Red","neve"),value:"gradient-red"},{label:(0,n.__)("Gradient Green","neve"),value:"gradient-green"},{label:(0,n.__)("Solid Black","neve"),value:"solid-black"},{label:(0,n.__)("Solid White","neve"),value:"solid-white"},{label:(0,n.__)("Outline","neve"),value:"outline"}],B=()=>`product-banner-button button-style-${_}`,x=()=>({borderRadius:`${b}px`}),P=()=>(0,t.createElement)("div",{className:"product-banner-product-selector"},(0,t.createElement)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"}},(0,t.createElement)(r.Button,{variant:E?"secondary":"primary",onClick:()=>y(!1)},(0,n.__)("Select","neve")),(0,t.createElement)(r.Button,{variant:E?"primary":"secondary",onClick:()=>y(!0)},(0,n.__)("Search","neve"))),E?(0,t.createElement)("div",{className:"product-banner-search"},(0,t.createElement)(r.TextControl,{label:(0,n.__)("Search Products","neve"),value:g,onChange:e=>h(e),placeholder:(0,n.__)("Type to search...","neve"),help:(0,n.__)("Search by product name","neve")}),C&&(0,t.createElement)("p",{className:"components-base-control__help"},(0,n.__)("Searching...","neve")),!C&&0===S.length&&g&&(0,t.createElement)("p",{className:"components-base-control__help"},(0,n.__)("No products found","neve")),(0,t.createElement)("div",{className:"product-banner-search-results"},S.map(e=>(0,t.createElement)(r.Button,{key:e.id,className:"product-search-item "+(d===e.id?"is-selected":""),onClick:()=>{c({productId:e.id}),h(""),y(!1)},variant:d===e.id?"primary":"secondary"},e.title.rendered)))):(0,t.createElement)(r.SelectControl,{label:(0,n.__)("Select Product","neve"),value:d,options:[{label:(0,n.__)("Select a product...","neve"),value:0},...S.map(e=>({label:e.title.rendered,value:e.id}))],onChange:e=>c({productId:parseInt(e)}),disabled:C,help:(0,n.__)("Choose a WooCommerce product to display","neve")}),N&&(0,t.createElement)("div",{className:"product-banner-selected-info"},(0,t.createElement)("strong",null,(0,n.__)("Selected:","neve"))," ",N.title.rendered,(0,t.createElement)(r.Button,{isSmall:!0,isDestructive:!0,onClick:()=>c({productId:0})},(0,n.__)("Clear","neve"))));return d||i||s?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(r.PanelBody,{title:(0,n.__)("Product Settings","neve"),initialOpen:!0},P()),(0,t.createElement)(r.PanelBody,{title:(0,n.__)("Button Settings","neve")},(0,t.createElement)(r.TextControl,{label:(0,n.__)("Button Text","neve"),value:v,onChange:e=>c({buttonText:e}),placeholder:(0,n.__)("Shop Now","neve"),help:(0,n.__)("Customize the button text","neve")}),(0,t.createElement)(r.SelectControl,{label:(0,n.__)("Button Style","neve"),value:_,options:f,onChange:e=>c({buttonStyle:e}),help:(0,n.__)("Choose a button style preset","neve")}),(0,t.createElement)(r.RangeControl,{label:(0,n.__)("Border Radius","neve"),value:b,onChange:e=>c({buttonBorderRadius:e}),min:0,max:50,help:(0,n.__)("Adjust button corner roundness","neve")}),(0,t.createElement)("div",{className:"product-banner-button-preview"},(0,t.createElement)("p",null,(0,t.createElement)("strong",null,(0,n.__)("Preview:","neve"))),(0,t.createElement)("div",{className:B(),style:x()},v||(0,n.__)("Shop Now","neve")))),(0,t.createElement)(r.PanelBody,{title:(0,n.__)("Content Settings","neve")},(0,t.createElement)("p",{className:"components-base-control__help"},(0,n.__)("Custom title and text will override product details","neve"))),(0,t.createElement)(r.PanelBody,{title:(0,n.__)("Image Settings","neve")},(0,t.createElement)(r.ToggleControl,{label:(0,n.__)("Use Product Image","neve"),checked:m,onChange:e=>c({useProductImage:e}),help:m?(0,n.__)("Using the product featured image","neve"):(0,n.__)("Using custom image","neve"),disabled:!d}),!m&&(0,t.createElement)(a.MediaUploadCheck,null,(0,t.createElement)(a.MediaUpload,{onSelect:e=>{c({imageId:e.id,imageUrl:e.url,useProductImage:!1})},allowedTypes:["image"],value:u,render:({open:e})=>(0,t.createElement)(t.Fragment,null,p?(0,t.createElement)("div",{className:"product-banner-image-preview"},(0,t.createElement)("img",{src:p,alt:""}),(0,t.createElement)(r.Button,{onClick:k,isDestructive:!0,isSmall:!0},(0,n.__)("Remove Image","neve"))):(0,t.createElement)(r.Button,{onClick:e,variant:"secondary"},(0,n.__)("Select Image","neve")))})))),(0,t.createElement)("div",{...w},(0,t.createElement)("div",{className:"product-banner-block-editor-wrapper"},(0,t.createElement)("div",{className:"product-banner-block",style:{backgroundImage:p?`url(${p})`:"none"}},(0,t.createElement)("div",{className:"product-banner-overlay"}),(0,t.createElement)("div",{className:"product-banner-content"},(0,t.createElement)(a.RichText,{tagName:"h2",className:"product-banner-title",value:i,onChange:e=>c({title:e}),placeholder:N?N.title.rendered:(0,n.__)("Enter banner title...","neve")}),(0,t.createElement)(a.RichText,{tagName:"p",className:"product-banner-text",value:s,onChange:e=>c({text:e}),placeholder:(0,n.__)("Enter banner description...","neve")}),N&&(0,t.createElement)("div",{className:"product-banner-preview-info"},(0,t.createElement)("div",{className:"product-banner-price"},(0,n.__)("Price will display here","neve")),(0,t.createElement)("div",{className:B(),style:x()},v||(0,n.__)("Shop Now","neve")))))))):(0,t.createElement)("div",{...w},(0,t.createElement)(r.Placeholder,{icon:"megaphone",label:(0,n.__)("Product Banner","neve"),instructions:(0,n.__)("Select a product to get started, or add custom content.","neve")},P()))},save:function(){return null}})}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,n,r,l)=>{if(!n){var o=1/0;for(s=0;s<e.length;s++){for(var[n,r,l]=e[s],c=!0,d=0;d<n.length;d++)(!1&l||o>=l)&&Object.keys(a.O).every(e=>a.O[e](n[d]))?n.splice(d--,1):(c=!1,l<o&&(o=l));if(c){e.splice(s--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[n,r,l]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,[o,c,d]=n,i=0;if(o.some(t=>0!==e[t])){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(d)var s=d(a)}for(t&&t(n);i<o.length;i++)l=o[i],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(s)},n=globalThis.webpackChunkproduct_banner_block=globalThis.webpackChunkproduct_banner_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[350],()=>a(313));r=a.O(r)})();