(()=>{"use strict";var e,t={545(){const e=window.wp.blocks,t=window.React,n=window.wp.i18n,r=window.wp.blockEditor,a=window.wp.components,o=window.wp.data,l=window.wp.element;window.wp.serverSideRender;const c=JSON.parse('{"UU":"create-block/product-banner"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{productId:i,title:d,text:s,imageId:u,imageUrl:p,useProductImage:m}=e,v=(0,r.useBlockProps)({className:"product-banner-editor"}),{products:g,isLoadingProducts:_}=(0,o.useSelect)(e=>{const{getEntityRecords:t,isResolving:n}=e("core");return{products:t("postType","product",{per_page:100,status:"publish"})||[],isLoadingProducts:n("getEntityRecords",["postType","product",{per_page:100,status:"publish"}])}},[]),b=(0,o.useSelect)(e=>i?e("core").getEntityRecord("postType","product",i):null,[i]);(0,l.useEffect)(()=>{if(m&&b&&b.featured_media){const e=wp.data.select("core").getMedia(b.featured_media);e&&c({imageId:b.featured_media,imageUrl:e.source_url})}},[b,m]);const E=[{label:(0,n.__)("Select a product...","neve"),value:0},...g.map(e=>({label:e.title.rendered,value:e.id}))],h=()=>{c({imageId:0,imageUrl:""})};return i||d||s?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Product Settings","neve"),initialOpen:!0},(0,t.createElement)(a.SelectControl,{label:(0,n.__)("Select Product","neve"),value:i,options:E,onChange:e=>c({productId:parseInt(e)}),disabled:_,help:(0,n.__)("Choose a WooCommerce product to display","neve")})),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Content Settings","neve")},(0,t.createElement)("p",{className:"components-base-control__help"},(0,n.__)("Custom title and text will override product details","neve"))),(0,t.createElement)(a.PanelBody,{title:(0,n.__)("Image Settings","neve")},(0,t.createElement)(a.ToggleControl,{label:(0,n.__)("Use Product Image","neve"),checked:m,onChange:e=>c({useProductImage:e}),help:m?(0,n.__)("Using the product featured image","neve"):(0,n.__)("Using custom image","neve"),disabled:!i}),!m&&(0,t.createElement)(r.MediaUploadCheck,null,(0,t.createElement)(r.MediaUpload,{onSelect:e=>{c({imageId:e.id,imageUrl:e.url,useProductImage:!1})},allowedTypes:["image"],value:u,render:({open:e})=>(0,t.createElement)(t.Fragment,null,p?(0,t.createElement)("div",{className:"product-banner-image-preview"},(0,t.createElement)("img",{src:p,alt:""}),(0,t.createElement)(a.Button,{onClick:h,isDestructive:!0,isSmall:!0},(0,n.__)("Remove Image","neve"))):(0,t.createElement)(a.Button,{onClick:e,variant:"secondary"},(0,n.__)("Select Image","neve")))})))),(0,t.createElement)("div",{...v},(0,t.createElement)("div",{className:"product-banner-block-editor-wrapper"},(0,t.createElement)("div",{className:"product-banner-block",style:{backgroundImage:p?`url(${p})`:"none"}},(0,t.createElement)("div",{className:"product-banner-overlay"}),(0,t.createElement)("div",{className:"product-banner-content"},(0,t.createElement)(r.RichText,{tagName:"h2",className:"product-banner-title",value:d,onChange:e=>c({title:e}),placeholder:b?b.title.rendered:(0,n.__)("Enter banner title...","neve")}),(0,t.createElement)(r.RichText,{tagName:"p",className:"product-banner-text",value:s,onChange:e=>c({text:e}),placeholder:(0,n.__)("Enter banner description...","neve")}),b&&(0,t.createElement)("div",{className:"product-banner-preview-info"},(0,t.createElement)("div",{className:"product-banner-price"},(0,n.__)("Price will display here","neve")),(0,t.createElement)("div",{className:"product-banner-button"},(0,n.__)("Shop Now","neve")))))))):(0,t.createElement)("div",{...v},(0,t.createElement)(a.Placeholder,{icon:"megaphone",label:(0,n.__)("Product Banner","neve"),instructions:(0,n.__)("Select a product to get started, or add custom content.","neve")},(0,t.createElement)(a.SelectControl,{value:i,options:E,onChange:e=>c({productId:parseInt(e)}),disabled:_})))},save:function(){return null}})}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,a,o)=>{if(!n){var l=1/0;for(s=0;s<e.length;s++){for(var[n,a,o]=e[s],c=!0,i=0;i<n.length;i++)(!1&o||l>=o)&&Object.keys(r.O).every(e=>r.O[e](n[i]))?n.splice(i--,1):(c=!1,o<l&&(l=o));if(c){e.splice(s--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[l,c,i]=n,d=0;if(l.some(t=>0!==e[t])){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(i)var s=i(r)}for(t&&t(n);d<l.length;d++)o=l[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},n=globalThis.webpackChunkproduct_banner_block=globalThis.webpackChunkproduct_banner_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[350],()=>r(545));a=r.O(a)})();